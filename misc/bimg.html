<!DOCTYPE html><html><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><title>bimg</title><meta property="og:title" content="bimg" /><meta property="og:type" content="website" /><meta name="description" content="An API that draws and manipulates ." /><meta property="og:description" content="An API that draws and manipulates ." /><meta property="og:image" content="https://skydocs.madefor.cc/pack.png" /><meta property="og:site_name" content="SkyDocs" /><link rel="stylesheet" href="../main.css?v=f6fd089a" type="text/css" /><meta name="theme-color" content="#c8d87c"></head><body><nav id="nav"><button id="nav-reveal" type="button">&#9776;</button><h1><a href=".././"><img src="../pack.png" alt="SkyDocs" /></a></h1><div class="nav-links"><h2 tabindex="0">Contents</h2><ul><li><a href="#v:new" class="sidebar-link">new</a></li></ul><h2 tabindex="0">Types</h2><ul><li><a href="#ty:Image" class="sidebar-link">Image</a></li></ul><h2 class="collapsed" tabindex="0">SkyOS</h2><ul><li><a href="../skyos/coro.html" class="sidebar-link">coro</a></li><li><a href="../skyos/crash.html" class="sidebar-link">crash</a></li><li><a href="../skyos/file.html" class="sidebar-link">file</a></li><li><a href="../skyos/gestures.html" class="sidebar-link">gestures</a></li><li><a href="../skyos/graphic.html" class="sidebar-link">graphic</a></li><li><a href="../skyos/skimg.html" class="sidebar-link">skimg</a></li><li><a href="../skyos/sos.html" class="sidebar-link">sos</a></li><li><a href="../skyos/timeserver.html" class="sidebar-link">timeserver</a></li><li><a href="../skyos/windowman.html" class="sidebar-link">windowman</a></li></ul><h2 tabindex="0">Misc</h2><ul><li><strong class="sidebar-link selected">bimg</strong></li><li><a href="bufferedinput.html" class="sidebar-link">bufferedinput</a></li><li><a href="button.html" class="sidebar-link">button</a></li><li><a href="ccsql.html" class="sidebar-link">ccsql</a></li><li><a href="cipher.html" class="sidebar-link">cipher</a></li><li><a href="devbin.html" class="sidebar-link">devbin</a></li><li><a href="imgconvert.html" class="sidebar-link">imgconvert</a></li><li><a href="pastebin.html" class="sidebar-link">pastebin</a></li><li><a href="progressbar.html" class="sidebar-link">progressbar</a></li><li><a href="roll20.html" class="sidebar-link">roll20</a></li><li><a href="sUtils.html" class="sidebar-link">sUtils</a></li><li><a href="skyrtle.html" class="sidebar-link">skyrtle</a></li><li><a href="travel.html" class="sidebar-link">travel</a></li></ul><h2 class="collapsed" tabindex="0">Create</h2><ul><li><a href="../create/piston.html" class="sidebar-link">piston</a></li></ul><h2 class="collapsed" tabindex="0">WIP</h2><ul><li><a href="../wip/TCP Install Guide.html" class="sidebar-link">TCP Install Guide</a></li><li><a href="../wip/WIP Projects.html" class="sidebar-link">WIP Projects</a></li><li><a href="../wip/comms .html" class="sidebar-link">comms </a></li><li><a href="../wip/tcp.html" class="sidebar-link">tcp</a></li></ul><h2 class="collapsed" tabindex="0">Articles</h2><ul><li><a href="../articles/Installer.html" class="sidebar-link">Installer</a></li><li><a href="../articles/SkyOS Desktop.html" class="sidebar-link">SkyOS Desktop</a></li><li><a href="../articles/SkyOS Settings.html" class="sidebar-link">SkyOS Settings</a></li><li><a href="../articles/To-Do.html" class="sidebar-link">To-Do</a></li></ul><h2 class="collapsed" tabindex="0">SkyOS Events</h2><ul><li><a href="../skyosevent/back.html" class="sidebar-link">back</a></li><li><a href="../skyosevent/long_press.html" class="sidebar-link">long_press</a></li><li><a href="../skyosevent/pan.html" class="sidebar-link">pan</a></li><li><a href="../skyosevent/pan_up.html" class="sidebar-link">pan_up</a></li><li><a href="../skyosevent/swipe.html" class="sidebar-link">swipe</a></li><li><a href="../skyosevent/visible.html" class="sidebar-link">visible</a></li></ul><h2 class="collapsed" tabindex="0">SkyOS Callbacks</h2><ul><li><a href="../skyoscallback/SkyOS.back().html" class="sidebar-link">SkyOS.back()</a></li><li><a href="../skyoscallback/SkyOS.close().html" class="sidebar-link">SkyOS.close()</a></li><li><a href="../skyoscallback/SkyOS.visible().html" class="sidebar-link">SkyOS.visible()</a></li></ul></div></nav><div id="main"><div id="search-form" role="form"><input id="search-box" type="text" placeholder="Search..." autocomplete="off" tabindex="0"></input><div id="search-results"></div></div><section id="content"><h1>bimg</h1><p>An API that draws and manipulates .bimg images.</p>
<table class="definition-list"><tr><th class="definition-name"><a href="#v:new">new(path, binary)</a></th><td>Instantiate a new <a href="bimg.html#ty:Image" class="reference reference-code">Image</a> object.</td></tr></table><dl class="definition"><dt><a name="v:new" href="#v:new"></a><span class="definition-name">new(path, binary)</span><a href="https://github.com/SkyTheCodeMaster/SkyDocs/blob/896c95838f90155f62d880f42074c886cbdded4d/src/main/misc/bimg.lua#L302" class="source-link">Source</a></dt><dd><p>Instantiate a new <a href="bimg.html#ty:Image" class="reference reference-code">Image</a> object.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">path</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference reference-code">string</a></span> Path to the image.</li><li><span class="parameter">binary</span> <span class="type"><span class="reference reference-code">boolean</span></span> Whether or not the image was written in binary mode.</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type"><a href="bimg.html#ty:Image" class="reference reference-code">Image</a></span> the new image object.</li></ol></dd></dl><h3>Types</h3><h3><a name="ty:Image" href="#ty:Image"></a> <span>Image</span></h3><p>The image object. Contains functions for drawing, and extracting metadata. Created by {@new}.</p>
<dl class="definition"><dt><a name="ty:Image:draw" href="#ty:Image:draw"></a><span class="definition-name">Image.draw(x, y, Options)</span><a href="https://github.com/SkyTheCodeMaster/SkyDocs/blob/896c95838f90155f62d880f42074c886cbdded4d/src/main/misc/bimg.lua#L34" class="source-link">Source</a></dt><dd><p>Draw the image. If this is an animated image in between each frame it will call <code>sleep</code>.
This will not reset cursor position!</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">x</span> <span class="type"><span class="reference reference-code">number</span></span> X coordinate to draw the image at.</li><li><span class="parameter">y</span> <span class="type"><span class="reference reference-code">number</span></span> Y coordinate to draw the image at.</li><li><span class="parameter">Options</span> <span class="type">{ window<span class="optional" title="This field is optional">?</span> = <a href="https://www.lua.org/manual/5.1/manual.html#5.5" class="reference reference-code">table</a>, transparency<span class="optional" title="This field is optional">?</span> = <span class="reference reference-code">boolean</span> }</span> <p>that control how the image is drawn.</p>
<ul>
<li><code>window</code>: A window object to draw to. This is so that transparency can be supported. If this is not passed, we will see if <code>term.current().getLine</code> exists.
If it does not, then transparency will not be supported, and will be replaced by black. If a window object is provided then this will draw to that, and call
<code>window.setVisible</code> as appropriate to make the image draw better. Otherwise it will just direct call <code>term</code>. It will still call window functions even if
<code>transparency</code> is false.
</li>
<li><code>transparency</code>: Even if transparency is supported, if this is <code>false</code> then it will be replaced by black. Setting this to true can not force transparency
to work.
</li>
<li><code>term</code>: The terminal to draw to, defaults to regular terminal.
</li>
</ul>
</li></ol></dd><dt><a name="ty:Image:getMetadata" href="#ty:Image:getMetadata"></a><span class="definition-name">Image:getMetadata()</span><a href="https://github.com/SkyTheCodeMaster/SkyDocs/blob/896c95838f90155f62d880f42074c886cbdded4d/src/main/misc/bimg.lua#L109" class="source-link">Source</a></dt><dd><p>Retrieve the metadata of the image. This returns a table of all of the <a href="https://github.com/SkyTheCodeMaster/bimg/blob/master/spec.md#metadata">metadata</a> in the bimg format.
:::info
This will also return custom keys, that are not part of the spec.
:::
@treturn table Metadata of the image.</p>
</dd><dt><a name="ty:Image:setMetadata" href="#ty:Image:setMetadata"></a><span class="definition-name">Image:setMetadata(metadata)</span><a href="https://github.com/SkyTheCodeMaster/SkyDocs/blob/896c95838f90155f62d880f42074c886cbdded4d/src/main/misc/bimg.lua#L128" class="source-link">Source</a></dt><dd><p>Set the metadata of the image. This takes a table (Usually one returned by <span class="reference reference-code reference-unresolved">image:draw</span>, but can be custom made), and writes in the keys (Basically a shallow clone) to the image.
This will then save the image to a file.
:::info
Custom metadata keys can be added, and it will not complain, but note that other programs might not see these keys, or do anything with them.
:::
:::caution
This will only write string keys, and will ignore function, table, number, etc. keys.
:::
@tparam table metadata Metdata information.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">metadata</span>  </li></ol></dd><dt><a name="ty:Image:clearMetadata" href="#ty:Image:clearMetadata"></a><span class="definition-name">Image.clearMetadata()</span><a href="https://github.com/SkyTheCodeMaster/SkyDocs/blob/896c95838f90155f62d880f42074c886cbdded4d/src/main/misc/bimg.lua#L139" class="source-link">Source</a></dt><dd><p>This clears the metadata, useful to completely overwrite metadata. It also returns a copy of the removed metadata.</p>
<h3>Returns</h3><ol class="return-list"><li><span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.5" class="reference reference-code">table</a></span> Old metadata of the image.</li></ol></dd><dt><a name="ty:Image:setPixel" href="#ty:Image:setPixel"></a><span class="definition-name">Image.setPixel(...)</span><a href="https://github.com/SkyTheCodeMaster/SkyDocs/blob/896c95838f90155f62d880f42074c886cbdded4d/src/main/misc/bimg.lua#L160" class="source-link">Source</a></dt><dd><p>Set a pixel at a specific point.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">x</span> <span class="type"><span class="reference reference-code">number</span></span> X coordinate of the pixel.</li><li><span class="parameter">y</span> <span class="type"><span class="reference reference-code">number</span></span> Y coordinate of the pixel.</li><li><span class="parameter">char</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference reference-code">string</a></span> Character to place.</li><li><span class="parameter">fg</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference reference-code">string</a> | <span class="reference reference-code">number</span></span> Foreground colour. Accepts either a blit colour or <code>colours</code> colour.</li><li><span class="parameter">bg</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference reference-code">string</a> | <span class="reference reference-code">number</span></span> Background colour. Accepts either a blit colour or <code>colours</code> colour.</li><li><span class="parameter">frame</span> <span class="type"><span class="reference reference-code">number</span></span> Frame to set, defaults to 1.</li></ol><h4>Or</h4><ol class="parameter-list"><li><span class="parameter">x</span> <span class="type"><span class="reference reference-code">number</span></span> X coordinate of the pixel.</li><li><span class="parameter">y</span> <span class="type"><span class="reference reference-code">number</span></span> Y coordinate of the pixel.</li><li><span class="parameter">Table</span> <span class="type">{ <a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference reference-code">string</a>, <a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference reference-code">string</a> | <span class="reference reference-code">number</span>, <a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference reference-code">string</a> | <span class="reference reference-code">number</span>, <span class="reference reference-code">number</span> }</span> describing a character. This follows the same parameters as before.</li></ol></dd><dt><a name="ty:Image:setLine" href="#ty:Image:setLine"></a><span class="definition-name">Image.setLine(...)</span><a href="https://github.com/SkyTheCodeMaster/SkyDocs/blob/896c95838f90155f62d880f42074c886cbdded4d/src/main/misc/bimg.lua#L205" class="source-link">Source</a></dt><dd><p>Set a line of characters.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">y</span> <span class="type"><span class="reference reference-code">number</span></span> Y coordinate of the line.</li><li><span class="parameter">char</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference reference-code">string</a></span> Characters to set.</li><li><span class="parameter">fg</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference reference-code">string</a></span> Foreground blit colour.</li><li><span class="parameter">bg</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference reference-code">string</a></span> Background blit colour.</li><li><span class="parameter">frame</span> <span class="type"><span class="reference reference-code">number</span></span> Frame to set, defaults to 1.</li></ol><h4>Or</h4><ol class="parameter-list"><li><span class="parameter">y</span> <span class="type"><span class="reference reference-code">number</span></span> Y coordinate of the pixel.</li><li><span class="parameter">Table</span> <span class="type">{ <a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference reference-code">string</a>, <a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference reference-code">string</a>, <a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference reference-code">string</a>, <span class="reference reference-code">number</span> }</span> describing a blit line. This follows the same parameters as before.</li></ol></dd><dt><a name="ty:Image:getPixel" href="#ty:Image:getPixel"></a><span class="definition-name">Image.getPixel(x, y [, frame])</span><a href="https://github.com/SkyTheCodeMaster/SkyDocs/blob/896c95838f90155f62d880f42074c886cbdded4d/src/main/misc/bimg.lua#L236" class="source-link">Source</a></dt><dd><p>Get a pixel.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">x</span> <span class="type"><span class="reference reference-code">number</span></span> X coordinate of the pixel.</li><li><span class="parameter">y</span> <span class="type"><span class="reference reference-code">number</span></span> Y coordinate of the pixel.</li><li><span class="parameter">frame<span class="optional" title="This argument is optional">?</span></span> <span class="type"><span class="reference reference-code">number</span></span> Frame to get, defaults to 1.</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference reference-code">string</a></span> Character of the pixel.</li><li><span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference reference-code">string</a></span> Foreground colour of the pixel.</li><li><span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference reference-code">string</a></span> Background colour of the pixel.</li></ol><h4>Or</h4><ol class="return-list"><li><span class="type">nil</span> Pixel does not exist in the image.</li></ol></dd><dt><a name="ty:Image:getLine" href="#ty:Image:getLine"></a><span class="definition-name">Image.getLine(y [, frame])</span><a href="https://github.com/SkyTheCodeMaster/SkyDocs/blob/896c95838f90155f62d880f42074c886cbdded4d/src/main/misc/bimg.lua#L256" class="source-link">Source</a></dt><dd><p>Get a line.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">y</span> <span class="type"><span class="reference reference-code">number</span></span> Y coordinate of the line.</li><li><span class="parameter">frame<span class="optional" title="This argument is optional">?</span></span> <span class="type"><span class="reference reference-code">number</span></span> Frame to get, defaults to 1.</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference reference-code">string</a></span> Characters of the line.</li><li><span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference reference-code">string</a></span> Foreground colours of the line.</li><li><span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference reference-code">string</a></span> Background colours of the line.</li></ol><h4>Or</h4><ol class="return-list"><li><span class="type">nil</span> Line does not exist in the image.</li></ol></dd><dt><a name="ty:Image:resize" href="#ty:Image:resize"></a><span class="definition-name">Image.resize(method)</span><a href="https://github.com/SkyTheCodeMaster/SkyDocs/blob/896c95838f90155f62d880f42074c886cbdded4d/src/main/misc/bimg.lua#L272" class="source-link">Source</a></dt><dd><p>Resize the image.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">method</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference reference-code">string</a></span> <p>Method used to resize the image.
Valid methods are:</p>
<ul>
<li><code>&quot;black&quot;</code>: Fills in empty space with just black characters.
</li>
<li><code>&quot;repeat&quot;</code>: Repeats the last row/column data for the empty space.
</li>
<li><code>&quot;transparent&quot;</code>: Fills the empty space with completely invisible characters.
</li>
</ul>
</li></ol></dd><dt><a name="ty:Image:reload" href="#ty:Image:reload"></a><span class="definition-name">Image:reload()</span><a href="https://github.com/SkyTheCodeMaster/SkyDocs/blob/896c95838f90155f62d880f42074c886cbdded4d/src/main/misc/bimg.lua#L281" class="source-link">Source</a></dt><dd><p>Refresh the image from the file.
This simply reads the file again.</p>
</dd><dt><a name="ty:Image:save" href="#ty:Image:save"></a><span class="definition-name">Image.save([path])</span><a href="https://github.com/SkyTheCodeMaster/SkyDocs/blob/896c95838f90155f62d880f42074c886cbdded4d/src/main/misc/bimg.lua#L289" class="source-link">Source</a></dt><dd><p>Save the image to the file.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">path<span class="optional" title="This argument is optional">?</span></span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference reference-code">string</a></span> A new path to save to. Defaults to the original path of the image.</li></ol></dd></dl></section><footer>Last updated on 2023-06-05</footer></div><div id="search-overlay"></div><script src="../main.js?v=800f5da5" type="text/javascript" defer=""></script></body></html>